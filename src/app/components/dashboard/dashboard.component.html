<mat-form-field appearance="fill" *ngFor="let empfilter of ummFilters">
  <mat-label>{{ empfilter.name }}</mat-label>
  <mat-select
    [(value)]="empfilter.defaultValue"
    (selectionChange)="applyUMMFilter($event, empfilter)"
  >
    <mat-option *ngFor="let op of empfilter.options" [value]="op">
      {{ op }}
    </mat-option>
  </mat-select>
</mat-form-field>


<mat-form-field>
  
	<mat-select (openedChange)="openedChange($event)" placeholder="Select" [formControl]="selectFormControl" multiple>
		<mat-select-trigger>
			{{selectFormControl.value ? selectFormControl.value[0] : ''}}
			<span *ngIf="selectFormControl.value?.length > 1" class="additional-selection">
        (+{{selectFormControl.value.length - 1}} {{selectFormControl.value?.length === 2 ? 'other' : 'others'}})
      </span>
    </mat-select-trigger>

    <div class="select-container">
      <mat-option #allSelected (click)="unselectAll()" [value]="0"><mat-icon>cancel</mat-icon>Unselect All</mat-option>

    <mat-optgroup >

  <mat-form-field style="width:100%;">
    <input #search autocomplete="off" placeholder="Search" aria-label="Search" matInput [formControl]="searchTextboxControl">
    <button [disableRipple]="true" *ngIf="search.value" matSuffix mat-icon-button aria-label="Clear" (click)="clearSearch($event)">
    <mat-icon >close</mat-icon>
  </button>
  </mat-form-field>
    </mat-optgroup>
    <mat-optgroup *ngIf="(filteredOptions | async).length == 0">
      <div>No results found!</div>
    </mat-optgroup>

 <mat-option #opt (onSelectionChange)="selectionChange($event)" *ngFor="let option of filteredOptions | async" [value]="option">
  <mat-icon *ngIf="opt.selected">close</mat-icon> {{option}}
  </mat-option>
</div>
</mat-select>
</mat-form-field>
<div *ngIf="selectFormControl.value">{{ 'You have choosen ' + selectFormControl.value }}</div>





<div class="example-container">

 <div class="example-loading-shade"*ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults" color="primary"></mat-spinner>
  </div>

<table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)" color="primary">
  <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
    <th mat-header-cell *matHeaderCellDef   [mat-sort-header]="column.key"
    [disabled]="!column.sortable">
      {{column.header}}
    </th> 
    <td mat-cell *matCellDef="let row">
      {{row[column.key]}}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="4">No data</td>
  </tr>   
</table>
</div>